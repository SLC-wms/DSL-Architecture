@startuml
set separator none
title Configurations Module - Containers

left to right direction

!include <C4/C4>
!include <C4/C4_Context>
!include <C4/C4_Container>

AddElementTag("Employee", $bgColor="#f9d055", $borderColor="#ae913b", $fontColor="#000000", $sprite="", $shadowing="")
AddElementTag("Context", $bgColor="#69beff", $borderColor="#4985b2", $fontColor="#000000", $sprite="", $shadowing="")
AddElementTag("Container,Desktop", $bgColor="#8af0ac", $borderColor="#60a878", $fontColor="#000000", $sprite="", $shadowing="")
AddElementTag("Container,Database", $bgColor="#95d1fe", $borderColor="#6892b1", $fontColor="#000000", $sprite="", $shadowing="")
AddElementTag("Container", $bgColor="#95d1fe", $borderColor="#6892b1", $fontColor="#000000", $sprite="", $shadowing="")

AddRelTag("Relationship", $textColor="#000000", $lineColor="#000000", $lineStyle = "")

AddBoundaryTag("Context", $bgColor="#ffffff", $borderColor="#4985b2", $fontColor="#4985b2", $shadowing="")

System(AnalyticsModule, "Analytics Module", $descr="", $tags="Context", $link="")
Person(Administrator, "Administrator", $descr="", $tags="Employee", $link="")
System(DatabaseModule, "Database Module", $descr="", $tags="Context", $link="")
System(InventoryModule, "Inventory Module", $descr="", $tags="Context", $link="")
System(ReceptionModule, "Reception Module", $descr="", $tags="Context", $link="")

System_Boundary("ConfigurationsModule_boundary", "Configurations Module", $tags="Context") {
  Container(ConfigurationsModule.ControlPanel, "Control Panel", $techn="", $descr="Dashboard", $tags="Container,Desktop", $link="")
  Container(ConfigurationsModule.HHRRWrapper, "HHRR Wrapper", $techn="", $descr="Microservice", $tags="Container", $link="")
  ContainerDb(ConfigurationsModule.HHRRDatabase, "HHRR Database", $techn="", $descr="SQL Database", $tags="Container,Database", $link="")
  Container(ConfigurationsModule.ConfigUpdater, "Config Updater", $techn="", $descr="Microservice", $tags="Container", $link="")
  Container(ConfigurationsModule.NotificationEmitter, "Notification Emitter", $techn="", $descr="Microservice", $tags="Container", $link="")
  Container(ConfigurationsModule.SchemaValidation, "Schema Validation", $techn="", $descr="Microservice", $tags="Container", $link="")
  Container(ConfigurationsModule.Authentication, "Authentication", $techn="", $descr="Firewall", $tags="Container", $link="")
}

Rel_D(ReceptionModule, DatabaseModule, "Sends new values", $techn="Message Broker", $tags="Relationship", $link="")
Rel_D(Administrator, ConfigurationsModule.ControlPanel, "Make changes with", $techn="", $tags="Relationship", $link="")
Rel_D(ConfigurationsModule.HHRRWrapper, ConfigurationsModule.HHRRDatabase, "Manages the data", $techn="", $tags="Relationship", $link="")
Rel_D(ConfigurationsModule.ConfigUpdater, DatabaseModule, "Change the configuration", $techn="Message Broker", $tags="Relationship", $link="")
Rel_D(ConfigurationsModule.ConfigUpdater, AnalyticsModule, "Update schedule", $techn="HTTPS Request", $tags="Relationship", $link="")
Rel_D(ConfigurationsModule.ConfigUpdater, InventoryModule, "Update schedule", $techn="HTTPS Request", $tags="Relationship", $link="")
Rel_D(ConfigurationsModule.ConfigUpdater, ReceptionModule, "Update schedule", $techn="Message Broker", $tags="Relationship", $link="")
Rel_D(ConfigurationsModule.SchemaValidation, ConfigurationsModule.HHRRWrapper, "Add or update an employee", $techn="HTTPS Request", $tags="Relationship", $link="")
Rel_D(ConfigurationsModule.SchemaValidation, ConfigurationsModule.ConfigUpdater, "Change the configuration", $techn="HTTPS Request", $tags="Relationship", $link="")
Rel_D(ConfigurationsModule.SchemaValidation, ConfigurationsModule.NotificationEmitter, "Request the delivery", $techn="Message Broker", $tags="Relationship", $link="")
Rel_D(ConfigurationsModule.ControlPanel, ConfigurationsModule.Authentication, "Sends the changes", $techn="HTTPS Request", $tags="Relationship", $link="")
Rel_D(ConfigurationsModule.Authentication, ConfigurationsModule.SchemaValidation, "Redirects", $techn="", $tags="Relationship", $link="")
Rel_D(DatabaseModule, InventoryModule, "Retrieve Layout and Units", $techn="Message Broker", $tags="Relationship", $link="")
Rel_D(InventoryModule, DatabaseModule, "Sends the order", $techn="Message Broker", $tags="Relationship", $link="")
Rel_D(DatabaseModule, AnalyticsModule, "Retrieves the data", $techn="Message Broker", $tags="Relationship", $link="")

SHOW_LEGEND(true)
@enduml